import{j as e,c as F}from"./index-DYpDhHov.js";/* empty css              */import{r as u}from"./index-BBkUAzwr.js";import{u as L,S as q}from"./Select-CjWnvSQD.js";import{j as D,c as C,o as A,u as O,v as M}from"./index-QGNrqnCn.js";import{B as g}from"./Button-BjUuDhLH.js";const U="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let f=(l=21)=>{let t="",r=crypto.getRandomValues(new Uint8Array(l));for(;l--;)t+=U[r[l]&63];return t};const B=u.createContext({density:"medium",setDensity:()=>{},showSelecedBar:!1,setShowSelecedBar:()=>{},searchedValue:"",setSearchedValue:()=>{},selectedRows:[],setSelectedRows:()=>{},actions:[]});function b(){return u.useContext(B)}const G=B.Provider,T=({dropdownRef:l,dropdownDensityOpen:t})=>{const{setDensity:r}=b();return e.jsxs("div",{ref:l,className:"br-list",role:"menu","aria-labelledby":"button-dropdown-density",hidden:!t,"aria-hidden":t,"data-dropdown":t?!0:null,children:[e.jsx("button",{className:"br-item",type:"button","data-density":"small",role:"menuitem",onClick:()=>r("small"),children:"Densidade alta"}),e.jsx("span",{className:"br-divider"}),e.jsx("button",{className:"br-item",type:"button","data-density":"medium",role:"menuitem",onClick:()=>r("medium"),children:"Densidade média"}),e.jsx("span",{className:"br-divider"}),e.jsx("button",{className:"br-item",type:"button","data-density":"large",role:"menuitem",onClick:()=>r("large"),children:"Densidade baixa"})]})};T.displayName="DropdownDensity";T.__docgenInfo={description:"",methods:[],displayName:"DropdownDensity",props:{className:{required:!1,tsType:{name:"string"},description:""},dropdownRef:{required:!0,tsType:{name:"ReactRefObject",raw:"React.RefObject<HTMLDivElement>",elements:[{name:"HTMLDivElement"}]},description:""},dropdownDensityOpen:{required:!0,tsType:{name:"boolean"},description:""}}};const x=()=>{const{selectedRows:l,actions:t}=b(),[r,o]=u.useState(!1),n=l.length>0,d=r?"actions-trigger text-nowrap dropdown":"actions-trigger text-nowrap";return e.jsxs("div",{className:n?"selected-bar show":"selected-bar",children:[e.jsxs("div",{className:"info",children:[e.jsx("span",{className:"count",children:l.length}),e.jsx("span",{className:"text",children:"item selecionado"})]}),e.jsxs("div",{className:d,children:[e.jsx(g,{circle:!0,variant:"tertiary",inverted:!0,title:"Ver mais opções de ação","aria-label":"Ver mais opções de ação","aria-haspopup":"true",onClick:()=>t&&o(!r),icon:D}),e.jsx("div",{className:"br-list dropdown-list",role:"menu","aria-labelledby":"button-dropdown-selection",hidden:!r,children:t==null?void 0:t.map(i=>e.jsx("button",{className:"br-item",type:"button",role:"menuitem",onClick:()=>i.onClick(l),children:i.label},i.key))})]})]})};x.displayName="TableSelectedBar";x.__docgenInfo={description:"",methods:[],displayName:"TableSelectedBar"};const v=({tableTitle:l})=>{const[t,r]=u.useState(!1),[o,n]=u.useState(!1),d=u.useRef(null),i=u.useRef(null),{setSearchedValue:a}=b();L({onClickOutside:()=>n(!1),elementRef:d});const s=f();return e.jsxs("div",{className:"table-header",children:[e.jsxs("div",{className:"top-bar",children:[e.jsx("div",{className:"table-title",children:l}),e.jsxs("div",{className:o?"actions-trigger text-nowrap dropdown":"actions-trigger text-nowrap",children:[e.jsx(g,{circle:!0,variant:"tertiary",title:"Ver mais opções de ação","data-toggle":"dropdown","aria-label":"Ver mais opções de ação","aria-haspopup":"true","data-visible":o,"aria-expanded":o,icon:D,onClick:()=>n(!o)}),e.jsx(T,{dropdownRef:d,dropdownDensityOpen:o})]}),e.jsx("div",{className:"search-trigger",children:e.jsx(g,{circle:!0,variant:"tertiary",title:"Abrir busca","aria-label":"Abrir busca","data-toggle":"search",icon:t?C:A,onClick:()=>{r(!0)}})})]}),e.jsxs("div",{className:t?"search-bar show":"search-bar",children:[e.jsxs("div",{className:"br-input",children:[e.jsx("label",{htmlFor:s,children:"Buscar na tabela"}),e.jsx("input",{ref:i,id:s,type:"search",placeholder:"Buscar na tabela","aria-labelledby":"button-input-search","aria-label":"Buscar na tabela",onChange:c=>{a(c.target.value)}}),e.jsx(g,{circle:!0,variant:"tertiary",title:"Buscar","aria-label":"Buscar",icon:A,onClick:()=>{var c;a(((c=i.current)==null?void 0:c.value)||"")}})]}),e.jsx(g,{circle:!0,variant:"tertiary",title:"Fechar busca","aria-label":"Fechar busca",onClick:()=>r(!1),icon:C})]}),e.jsx(x,{})]})};v.displayName="TableHeader";v.__docgenInfo={description:"",methods:[],displayName:"TableHeader",props:{tableTitle:{required:!1,tsType:{name:"string"},description:""}}};const j=({pageSizeOptions:l,totalRows:t,onPageSizeChange:r,onCurrentPageChange:o})=>{const[n,d]=u.useState(l[0]),[i,a]=u.useState(1),s=Math.ceil(t/n),c=(i-1)*n+1,y=Math.min(i*n,t),R=f(),h=f();return u.useEffect(()=>{r&&r(n)},[n,r]),e.jsx("div",{className:"table-footer",children:e.jsxs("nav",{className:"br-pagination","aria-label":"paginação","data-total":String(t),"data-current":"1","data-per-page":String(n),children:[e.jsx("div",{className:"pagination-per-page",children:e.jsx(q,{id:R,label:"Exibir",options:l.map(m=>({label:String(m),id:String(m)})),value:String(n),onSelect:m=>{m&&d(Number(m))}})}),e.jsx("span",{className:"br-divider d-none d-sm-block mx-3"}),e.jsxs("div",{className:"pagination-information d-none d-sm-flex",children:[e.jsx("span",{className:"current",children:c}),"–",e.jsx("span",{className:"per-page",children:y})," de ",e.jsx("span",{className:"total",children:t})," itens"]}),e.jsx("div",{className:"pagination-go-to-page d-none d-sm-flex ml-auto",children:e.jsx(q,{id:h,label:"Página",value:String(i),options:Array.from({length:s},(m,w)=>({label:String(w+1),id:String(w+1)}))||[],onSelect:m=>{m&&(a(Number(m)),o&&o(Number(m)))}})}),e.jsx("span",{className:"br-divider d-none d-sm-block mx-3"}),e.jsxs("div",{className:"pagination-arrows ml-auto ml-sm-0",children:[e.jsx(g,{variant:"tertiary",circle:!0,"aria-label":"Voltar página",icon:O,onClick:()=>{i>1&&(a(i-1),o&&o(i-1))}}),e.jsx(g,{variant:"tertiary",circle:!0,"aria-label":"Página seguinte",icon:M,onClick:()=>{i<s&&(a(i+1),o&&o(i+1))}})]})]})})};j.displayName="TablePagination";j.__docgenInfo={description:"",methods:[],displayName:"TablePagination",props:{pageSizeOptions:{required:!0,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:""},totalRows:{required:!0,tsType:{name:"number"},description:""},onPageSizeChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(pageSize: number) => void",signature:{arguments:[{type:{name:"number"},name:"pageSize"}],return:{name:"void"}}},description:""},onCurrentPageChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(currentPage: number) => void",signature:{arguments:[{type:{name:"number"},name:"currentPage"}],return:{name:"void"}}},description:""}}};const N=({columns:l,tableTitle:t,isAllSelected:r,isIndeterminate:o,onSelectAll:n})=>{const d=f(),{setShowSelecedBar:i}=b();return e.jsxs(e.Fragment,{children:[e.jsx("caption",{children:t}),e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"column-checkbox",scope:"col",children:e.jsxs("div",{className:"br-checkbox hidden-label",children:[e.jsx("input",{ref:a=>{a&&(a.indeterminate=o)},id:`check-all-${d}`,name:`check-all-${d}`,type:"checkbox","aria-label":"Selecionar tudo","data-parent":"check-01-2684",checked:r,onChange:a=>{i(a.target.checked),n(a.target.checked)}}),e.jsx("label",{htmlFor:`check-all-${d}`,children:"Selecionar todas as linhas"})]})}),l.map(a=>e.jsx("th",{scope:"col",id:a.field,className:"p-0",children:a.title},a.field))]})})]})};N.displayName="TableHead";N.__docgenInfo={description:"",methods:[],displayName:"TableHead",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{\r
  field: string;\r
  title: string;\r
  render?: (row: TRow) => React.ReactNode;\r
  className?: string | ((row: TRow) => string);\r
  sort?: boolean;\r
}`,signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"render",value:{name:"signature",type:"function",raw:"(row: TRow) => React.ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ [key: string]: string | number }",signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}}]}},name:"row"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}},required:!1}},{key:"className",value:{name:"union",raw:"string | ((row: TRow) => string)",elements:[{name:"string"},{name:"unknown"}],required:!1}},{key:"sort",value:{name:"boolean",required:!1}}]}}],raw:"Array<TColumn>"},description:""},tableTitle:{required:!1,tsType:{name:"string"},description:""},isAllSelected:{required:!0,tsType:{name:"boolean"},description:""},isIndeterminate:{required:!0,tsType:{name:"boolean"},description:""},onSelectAll:{required:!0,tsType:{name:"signature",type:"function",raw:"(isChecked: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isChecked"}],return:{name:"void"}}},description:""}}};const k=({rows:l,columns:t,selectedRows:r,onRowSelect:o})=>{const{setShowSelecedBar:n}=b(),d=(a,s)=>s.render?s.render(a):a[s.field],i=(a,s)=>typeof s.className=="function"?s.className(a):s.className;return e.jsx("tbody",{children:l.map((a,s)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"br-checkbox hidden-label",children:[e.jsx("input",{id:`check-line-${s+1}`,name:`check-line-${s+1}`,type:"checkbox","aria-label":`Selecionar linha ${s+1}`,"data-child":`check-${s+1}`,checked:r.includes(a),onChange:c=>{o(a),n(c.target.checked)}}),e.jsxs("label",{htmlFor:`check-line-${s+1}`,children:["Selecionar linha ",s+1]})]})}),t.map(c=>e.jsx("td",{"data-th":c.field,className:i(a,c),children:d(a,c)},c.field))]},a[t[0].field]))})};k.displayName="TableContent";k.__docgenInfo={description:"",methods:[],displayName:"TableContent",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{\r
  field: string;\r
  title: string;\r
  render?: (row: TRow) => React.ReactNode;\r
  className?: string | ((row: TRow) => string);\r
  sort?: boolean;\r
}`,signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"render",value:{name:"signature",type:"function",raw:"(row: TRow) => React.ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ [key: string]: string | number }",signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}}]}},name:"row"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}},required:!1}},{key:"className",value:{name:"union",raw:"string | ((row: TRow) => string)",elements:[{name:"string"},{name:"unknown"}],required:!1}},{key:"sort",value:{name:"boolean",required:!1}}]}}],raw:"Array<TColumn>"},description:""},rows:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ [key: string]: string | number }",signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}}]}}],raw:"Array<TRow>"},description:""},selectedRows:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ [key: string]: string | number }",signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}}]}}],raw:"Array<TRow>"},description:""},onRowSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(row: TRow) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ [key: string]: string | number }",signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}}]}},name:"row"}],return:{name:"void"}}},description:""}}};const S=u.forwardRef(({tableTitle:l,columns:t,rows:r},o)=>{const{selectedRows:n,setSelectedRows:d}=b(),i=s=>{d(s?r:[])},a=s=>{const c=n.findIndex(y=>y.id===s.id);d(c===-1?[...n,s]:[...n.slice(0,c),...n.slice(c+1)])};return e.jsxs("table",{ref:o,children:[e.jsx(N,{columns:t,tableTitle:l,onSelectAll:i,isAllSelected:n.length===r.length,isIndeterminate:n.length>0&&n.length<r.length}),e.jsx(k,{rows:r,columns:t,selectedRows:n,onRowSelect:a})]})});S.displayName="TableBody";S.__docgenInfo={description:"",methods:[],displayName:"TableBody",props:{tableTitle:{required:!1,tsType:{name:"string"},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{\r
  field: string;\r
  title: string;\r
  render?: (row: TRow) => React.ReactNode;\r
  className?: string | ((row: TRow) => string);\r
  sort?: boolean;\r
}`,signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"render",value:{name:"signature",type:"function",raw:"(row: TRow) => React.ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ [key: string]: string | number }",signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}}]}},name:"row"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}},required:!1}},{key:"className",value:{name:"union",raw:"string | ((row: TRow) => string)",elements:[{name:"string"},{name:"unknown"}],required:!1}},{key:"sort",value:{name:"boolean",required:!1}}]}}],raw:"Array<TColumn>"},description:""},rows:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ [key: string]: string | number }",signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}}]}}],raw:"Array<TRow>"},description:""}}};const J=()=>{const[l,t]=u.useState(""),[r,o]=u.useState(!1),[n,d]=u.useState("medium"),[i,a]=u.useState([]);return{density:n,setDensity:d,searchedValue:l,setSearchedValue:t,showSelecedBar:r,setShowSelecedBar:o,selectedRows:i,setSelectedRows:a}},K=F("br-table",{variants:{density:{small:"small",medium:"medium",large:"large"}}}),_=({className:l,title:t,pageSizeOptions:r,columns:o,rows:n,actions:d})=>{const[i,a]=u.useState(1),[s,c]=u.useState((r==null?void 0:r[0])||5),{showSelecedBar:y,setShowSelecedBar:R,searchedValue:h,setSearchedValue:m,density:w,setDensity:P,selectedRows:I,setSelectedRows:V}=J(),E=n.slice((i-1)*s,i*s).filter(p=>Object.values(p).some($=>String($).toLowerCase().includes(h.toLowerCase()))),H=K({density:w,className:l});return e.jsx(G,{value:{density:w,setDensity:P,searchedValue:h,setSearchedValue:m,showSelecedBar:y,setShowSelecedBar:R,selectedRows:I,setSelectedRows:V,actions:d},children:e.jsxs("div",{className:H,"data-search":"data-search","data-selection":"data-selection","data-collapse":"data-collapse","data-random":"data-random",children:[e.jsx(v,{tableTitle:t}),e.jsx(S,{tableTitle:t,columns:o,rows:E}),r&&e.jsx(j,{pageSizeOptions:r,totalRows:n.length,onPageSizeChange:p=>{p&&c(p)},onCurrentPageChange:p=>{p&&a(p)}})]})})};_.displayName="Table";_.__docgenInfo={description:"",methods:[],displayName:"Table",props:{className:{required:!1,tsType:{name:"string"},description:""},title:{required:!1,tsType:{name:"string"},description:""},pageSizeOptions:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{\r
  field: string;\r
  title: string;\r
  render?: (row: TRow) => React.ReactNode;\r
  className?: string | ((row: TRow) => string);\r
  sort?: boolean;\r
}`,signature:{properties:[{key:"field",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"render",value:{name:"signature",type:"function",raw:"(row: TRow) => React.ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ [key: string]: string | number }",signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}}]}},name:"row"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}},required:!1}},{key:"className",value:{name:"union",raw:"string | ((row: TRow) => string)",elements:[{name:"string"},{name:"unknown"}],required:!1}},{key:"sort",value:{name:"boolean",required:!1}}]}}],raw:"Array<TColumn>"},description:""},rows:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ [key: string]: string | number }",signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}}]}}],raw:"Array<TRow>"},description:""},actions:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{\r
  key: string;\r
  label: React.ReactNode;\r
  onClick: (selectedRows: TRows) => void;\r
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"label",value:{name:"ReactReactNode",raw:"React.ReactNode",required:!0}},{key:"onClick",value:{name:"signature",type:"function",raw:"(selectedRows: TRows) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ [key: string]: string | number }",signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}}]}}],raw:"Array<TRow>"},name:"selectedRows"}],return:{name:"void"}},required:!0}}]}}],raw:"TAction[]"},description:""},density:{required:!1,tsType:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}]},description:""}}};export{_ as D};
